{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/App.module.css","components/button/Button.module.css","components/searchbar/Searchbar.module.css","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/button/Button.js","components/modal/Modal.js","services/Api.js","components/imageGallery/ImageGallery.js","components/App.js","index.js","components/imageGallery/ImageGallery.module.scss"],"names":["module","exports","Searchbar","onSubmit","useState","inputValue","setInputValue","className","style","event","preventDefault","trim","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","e","value","target","toLowerCase","ImageGalleryItem","src","alt","modalUrl","onClickCurrentImage","ImageGalleryItemImage","onClick","Button","LoadMore","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","onCLoseModal","overflow","removeEventListener","code","createPortal","Overlay","currentTarget","BASE_URL","API_KEY","fetch","then","response","json","page","ImageGallery","gallery","setGallery","setPage","showModal","setShowModal","largeImg","setLargeImg","error","setError","loading","setLoading","getImages","imagesApi","prevState","hits","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","console","log","findCurrentImages","prev","main","map","image","webformatURL","tags","largeImageURL","id","color","height","width","state","length","App","setValue","searchQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9cab68ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__18xn0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__193Xf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__UUCg_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3nP09\",\"SearchForm\":\"Searchbar_SearchForm__l0-6e\",\"SearchFormButton\":\"Searchbar_SearchFormButton__18FfJ\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3pqnD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2QS5Z\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3FzPn\"};","import React, {useState} from \"react\";\nimport style from \"./Searchbar.module.css\";\nimport PropTypes from 'prop-types';\n\nconst Searchbar = ({onSubmit}) => {\n\n    const [inputValue, setInputValue] = useState('');\n\n    const handleInput = (e) => {\n        const {value} = e.target;\n        setInputValue(value.toLowerCase())\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        if (inputValue.trim() === '') {\n            alert(\"Введите название изображения\")\n            return;\n        }\n\n        onSubmit(inputValue);\n        setInputValue('');\n    }\n\n    return (\n        <header className={style.Searchbar}>\n            <form onSubmit={handleSubmit} className={style.SearchForm}>\n                <button type=\"submit\" className={style.SearchFormButton}>\n                    <span className={style.SearchFormButtonLabel}>Search</span>\n                </button>\n\n                <input\n                    className={style.SearchFormInput}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                    onChange={handleInput}\n                    value={inputValue}\n                />\n            </form>\n        </header>\n    );\n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport style from \"./ImageGalleryItem.module.css\";\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({src, alt, modalUrl, onClickCurrentImage}) => {\n\n    const setLargeImage = () => onClickCurrentImage(modalUrl);\n\n    return (\n        <>\n            <li className={style.ImageGalleryItem}>\n                <img\n                    src={src}\n                    alt={alt}\n                    className={style.ImageGalleryItemImage}\n                    onClick={setLargeImage}\n                />\n            </li>\n        </>\n    );\n}\n\nImageGalleryItem.propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    modalUrl: PropTypes.string.isRequired,\n    onClickCurrentImage: PropTypes.func.isRequired,\n}\n\nexport default ImageGalleryItem","import React from \"react\";\nimport style from \"./Button.module.css\";\nimport PropTypes from 'prop-types';\n\nconst Button = ({LoadMore}) => {\n    return (\n        <button type=\"button\" className={style.Button} onClick={LoadMore}>Load more</button>\n    );\n}\n\nButton.propTypes = {\n    LoadMore: PropTypes.func.isRequired,\n}\n\nexport default Button;","import React, {useEffect} from \"react\";\nimport PropTypes from 'prop-types';\nimport style from \"./Modal.module.css\";\nimport {createPortal} from \"react-dom\";\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal = ({onClose, children}) => {\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", onCLoseModal);\n        const body = document.querySelector(\"body\");\n        body.style.overflow = \"hidden\";\n        return () => {\n            window.removeEventListener(\"keydown\", onCLoseModal);\n            const body = document.querySelector(\"body\");\n            body.style.overflow = \"auto\";\n        };\n    });\n\n    const onCLoseModal = (e) => {\n        if (e.code === 'Escape') {\n            onClose();\n        }\n    }\n\n    const onOverlayClose = (e) => {\n        if (e.currentTarget === e.target) {\n            onClose();\n        }\n    }\n\n    return createPortal(\n        <div className={style.Overlay} onClick={onOverlayClose}>\n            <div className={style.Modal}>\n                {children}\n            </div>\n        </div>,\n        modalRoot,\n    );\n}\n\nModal.propTypes = {\n    onClose: PropTypes.func.isRequired,\n}\n\nexport default Modal;","const BASE_URL = \"https://pixabay.com/api/?\";\nconst API_KEY = \"23297096-fdec21a8bcbab7faa251f0233\";\n\nconst fetchQueryApi = (inputValue) => {\n    return fetch(BASE_URL + `q=${inputValue}&page=1&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => {\n            return response.json();\n        });\n}\n\nconst fetchLoadMore = (value, page) => {\n    return fetch(BASE_URL + `q=${value}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => response.json());\n}\n\nexport default {\n    fetchQueryApi,\n    fetchLoadMore,\n}","import React, {useState, useEffect} from \"react\";\nimport style from \"./ImageGallery.module.scss\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\nimport Button from \"../button/Button\";\nimport Modal from \"../modal/Modal\";\nimport imagesApi from \"../../services/Api\";\nimport Loader from \"react-loader-spinner\";\n\nconst ImageGallery = ({inputValue}) => {\n\n    const [gallery, setGallery] = useState([]);\n    const [page, setPage] = useState(1);\n    const [showModal, setShowModal] = useState(false);\n    const [largeImg, setLargeImg] = useState('');\n    const [error, setError] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const getImages = (inputValue, page) => {\n\n        (!page ?\n                imagesApi\n                    .fetchQueryApi(inputValue) :\n                imagesApi\n                    .fetchLoadMore(inputValue, page)\n        )\n\n            .then(gallery => !page ?\n                ((setGallery(gallery.hits),\n                    setPage(1)))\n                : setGallery(prevState => [...prevState, ...gallery.hits])\n            )\n\n            .catch(error => {\n                setError(error);\n            })\n            .finally(() => {\n                setLoading(false);\n                window.scrollTo({\n                    top: document.documentElement.scrollHeight,\n                    behavior: \"smooth\",\n                });\n            })\n    }\n\n    useEffect(() => {\n        if (inputValue === '') {\n            return;\n        }\n        setLoading(true)\n        getImages(inputValue);\n    }, [inputValue]);\n\n    useEffect(() => {\n        console.log('useEffect PAGE')\n        if (page === 1) {\n            return;\n        }\n        setLoading(true)\n        getImages(inputValue, page);\n    }, [page, inputValue]);\n\n\n    const onLoadMore = () => {\n        setPage(prev => {\n            console.log(prev)\n            return prev + 1;\n        });\n    }\n\n    const toggleModal = () => {\n        setShowModal(state => !state)\n    }\n\n    const findCurrentImages = (largeImg) => {\n        setShowModal(prev => !prev);\n        setLargeImg(largeImg);\n    };\n\n    return (\n        <main className={style.main}>\n            {error && <h2>Введите запрос ещё раз</h2>}\n            <ul className={style.ImageGallery}>\n                {gallery.map(image => <ImageGalleryItem\n                        src={image.webformatURL}\n                        alt={image.tags} key={image.id}\n                        modalUrl={image.largeImageURL}\n                        onClickCurrentImage={findCurrentImages}\n                    />\n                )}\n            </ul>\n            {loading && <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80}/>}\n            {showModal && <Modal onClose={toggleModal}>\n                <img src={largeImg} alt=\"Изображение\"/>\n            </Modal>}\n            {gallery.length > 0 && <Button LoadMore={onLoadMore}/>}\n        </main>\n    );\n}\n\nImageGallery.propTypes = {\n    inputValue: PropTypes.string.isRequired,\n}\n\nexport default ImageGallery;","import React, {useState} from \"react\";\nimport style from \"./App.module.css\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\n\nconst App = () => {\n    const [value, setValue] = useState('');\n\n    const handleFormSearch = (searchQuery) => {\n        setValue(searchQuery)\n    }\n\n    return (\n        <div className={style.App}>\n            <Searchbar onSubmit={handleFormSearch}/>\n            <ImageGallery inputValue={value}/>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3kJ-U\",\"main\":\"ImageGallery_main__1kH0o\"};"],"sourceRoot":""}